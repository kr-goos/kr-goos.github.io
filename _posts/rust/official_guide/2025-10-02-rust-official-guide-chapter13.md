---
title: "[RUST] 러스트 프로그래밍 공식 가이드(제2판) 13장 요약"
description: 함수형 언어의 특성: 반복자와 클로저
author: 김우석
date: 2025-10-02 07:00:00 +0900
categories: [Rust, OfficialGuide]
tags: [Rust]
image:
  path: /assets/img/posts/rust/rust-logo.svg
---

## 클로저: 자신의 환경을 캡처하는 익명 함수
- 클로저 : 변수에 저장하거나 다른 함수에 인수로 전달할 수 있는 익명 함수
    - 한 곳에서 클로저를 만들고 다른 콘텍스트(스코프)에서 이를 호출하여 평가할 수 있음
    - 정의된 스코프에서 값을 캡처할 수 있음. 즉, 클로저가 자신이 만들어진 시점의 변수(스코프 안의 값)를 기억해서, 나중에 클로저가 실행될 떄 그 값을 그대로 사용할 수 있음

### 클로저 타입 추론과 명시
- 클로저는 보통 짧은 콘텍스트 내에서만 사용되고 외부에 노출되지 않으므로, 타입명시를 하지 않아도 됨 (컴파일러가 추론해 줌)
- 클로저의 매개변수와 반환 타입은 최초 사용 시점에 추론 됨
- 한 번 추론된 타입은 그 클로저에 고정 됨 (여러 타입으로 재사용할 수 없음)

### 참조자를 캡처하거나 소유권 이동하기
- 클로저를 캡처하는 방식 3가지
    - 불변 참조로 캡처 (`&T`)
        - 값을 읽기만 할 때 사용하며, 여러개의 불변 참조자를 동시에 가질 수 있기 때문에 클로저 호출 전 후로 변수를 자유롭게 사용할 수 있음
    - 가변 참조로 캡처 (`&mut T`)
        - 값 수정이 필요할 때 사용되며, 가변 참조는 동시에 다른 참조를 허용하지 않기 때문에 클로저의 정의 ~ 호출 사이에 불변 참조 사용이 불가 (가변 대여가 끝난 시점에서는 사용 가능)
    - 소유권 이동으로 캡처 (`T`)
        - 값 자체를 소유해야 하는 경우 사용되며, 클로저의 정의 앞부분에 `move` 키워드를 집어넣어 캡처된 값의 소유권을 클로저로 넘겨야 함을 명시 해야 함 (`move` 키워드를 붙이면 강제로 소유권을 클로저로 이전 함)