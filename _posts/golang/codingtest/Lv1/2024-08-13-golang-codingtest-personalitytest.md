---
title: "[Golang] 프로그래머스 Lv.1 성격 유형 검사하기"
description: 2022 KAKAO TECH INTERNSHIP 성격 유형 검사하기 문제에 대해 풀이하고 테스트 코드를 작성 해보겠습니다.
author: 김우석
date: 2024-08-13 13:00:03 +0900
categories: [Golang, CodingTest]
tags: [Golang, Go, Go언어, 코딩테스트, UnitTest, BenchmarkTest, Testcode]
image:
  path: /assets/img/posts/golang/golang.svg
---

## 문제 설명
나만의 카카오 성격 유형 검사지를 만들려고 합니다.
성격 유형 검사는 다음과 같은 4개 지표로 성격 유형을 구분합니다. 성격은 각 지표에서 두 유형 중 하나로 결정됩니다.

| 지표 번호 | 성격 유형 |
| --- | --- |
| 1번 지표 | 라이언형(R), 튜브형(T) |
| 2번 지표 | 콘형(C), 프로도형(F) |
| 3번 지표 | 제이지형(J), 무지형(M) |
| 4번 지표 | 어피치형(A), 네오형(N) |

4개의 지표가 있으므로 성격 유형은 총 16(=2 x 2 x 2 x 2)가지가 나올 수 있습니다. 예를 들어, "RFMN"이나 "TCMA"와 같은 성격 유형이 있습니다.

검사지에는 총 `n`개의 질문이 있고, 각 질문에는 아래와 같은 7개의 선택지가 있습니다.

- 매우 비동의
- 비동의
- 약간 비동의
- 모르겠음
- 약간 동의
- 동의
- 매우 동의

각 질문은 1가지 지표로 성격 유형 점수를 판단합니다.

예를 들어, 어떤 한 질문에서 4번 지표로 아래 표처럼 점수를 매길 수 있습니다.

| 선택지 | 성격 유형 점수 |
| --- | --- |
| `매우 비동의` | 네오형 3점 |
| `비동의` | 네오형 2점 |
| `약간 비동의` | 네오형 1점 |
| `모르겠음` | 어떤 성격 유형도 점수를 얻지 않습니다 |
| `약간 동의` | 어피치형 1점 |
| `동의` | 어피치형 2점 |
| `매우 동의` | 어피치형 3점 |

이때 검사자가 질문에서 `약간 동의` 선택지를 선택할 경우 어피치형(A) 성격 유형 1점을 받게 됩니다. 만약 검사자가 `매우 비동의` 선택지를 선택할 경우 네오형(N) 성격 유형 3점을 받게 됩니다.

**위 예시처럼 네오형이 비동의, 어피치형이 동의인 경우만 주어지지 않고, 질문에 따라 네오형이 동의, 어피치형이 비동의인 경우도 주어질 수 있습니다.**
하지만 각 선택지는 고정적인 크기의 점수를 가지고 있습니다.

- 매우 동의나 매우 비동의 선택지를 선택하면 3점을 얻습니다.
- 동의나 비동의 선택지를 선택하면 2점을 얻습니다.
- 약간 동의나 약간 비동의 선택지를 선택하면 1점을 얻습니다.
- 모르겠음 선택지를 선택하면 점수를 얻지 않습니다.

검사 결과는 모든 질문의 성격 유형 점수를 더하여 각 지표에서 더 높은 점수를 받은 성격 유형이 검사자의 성격 유형이라고 판단합니다. 단, 하나의 지표에서 각 성격 유형 점수가 같으면, 두 성격 유형 중 사전 순으로 빠른 성격 유형을 검사자의 성격 유형이라고 판단합니다.

질문마다 판단하는 지표를 담은 1차원 문자열 배열 `survey`와 검사자가 각 질문마다 선택한 선택지를 담은 1차원 정수 배열 `choices`가 매개변수로 주어집니다. 이때, 검사자의 성격 유형 검사 결과를 지표 번호 순서대로 return 하도록 solution 함수를 완성해주세요.


## 제한사항
- 1 ≤ `survey`의 길이 ( = n) ≤ 1,000
	- `survey`의 원소는 `"RT", "TR", "FC", "CF", "MJ", "JM", "AN", "NA"` 중 하나입니다.
	- `survey[i]`의 첫 번째 캐릭터는 i+1번 질문의 비동의 관련 선택지를 선택하면 받는 성격 유형을 의미합니다.
	- `survey[i]`의 두 번째 캐릭터는 i+1번 질문의 동의 관련 선택지를 선택하면 받는 성격 유형을 의미합니다.
- `choices`의 길이 = `survey`의 길이
	- `choices[i]`는 검사자가 선택한 i+1번째 질문의 선택지를 의미합니다.
	- 1 ≤ `choices`의 원소 ≤ 7
	- | `choices` | 뜻 |
	  | --- | --- |
	  | 1 | 매우 비동의 |
	  | 2 | 비동의 |
	  | 3 | 약간 비동의 |
	  | 4 | 모르겠음 |
	  | 5 | 약간 동의 |
	  | 6 | 동의 |
	  | 7 | 매우 동의 |


## 입출력 예
{% raw %}
| survey | choices | result |
| --- | --- | --- |
| `["AN", "CF", "MJ", "RT", "NA"]` | \[5, 3, 2, 7, 5\] | `"TCMA"` |
| `["TR", "RT", "TR"]` | \[7, 1, 3\] | `"RCJA"` |
{% endraw %}


## 입출력 예 설명
**입출력 예 #1**

1번 질문의 점수 배치는 아래 표와 같습니다.

| 선택지 | 성격 유형 점수 |
| --- | --- |
| 매우 비동의 | 어피치형 3점 |
| 비동의 | 어피치형 2점 |
| 약간 비동의 | 어피치형 1점 |
| 모르겠음 | 어떤 성격 유형도 점수를 얻지 않습니다 |
| **약간 동의** | **네오형 1점** |
| 동의 | 네오형 2점 |
| 매우 동의 | 네오형 3점 |

1번 질문에서는 지문의 예시와 다르게 비동의 관련 선택지를 선택하면 어피치형(A) 성격 유형의 점수를 얻고, 동의 관련 선택지를 선택하면 네오형(N) 성격 유형의 점수를 얻습니다.
1번 질문에서 검사자는 `약간 동의` 선택지를 선택했으므로 네오형(N) 성격 유형 점수 1점을 얻게 됩니다.

2번 질문의 점수 배치는 아래 표와 같습니다.

| 선택지 | 성격 유형 점수 |
| --- | --- |
| 매우 비동의 | 콘형 3점 |
| 비동의 | 콘형 2점 |
| **약간 비동의** | **콘형 1점** |
| 모르겠음 | 어떤 성격 유형도 점수를 얻지 않습니다 |
| 약간 동의 | 프로도형 1점 |
| 동의 | 프로도형 2점 |
| 매우 동의 | 프로도형 3점 |

2번 질문에서 검사자는 `약간 비동의` 선택지를 선택했으므로 콘형(C) 성격 유형 점수 1점을 얻게 됩니다.

3번 질문의 점수 배치는 아래 표와 같습니다.

| 선택지 | 성격 유형 점수 |
| --- | --- |
| 매우 비동의 | 무지형 3점 |
| **비동의** | **무지형 2점** |
| 약간 비동의 | 무지형 1점 |
| 모르겠음 | 어떤 성격 유형도 점수를 얻지 않습니다 |
| 약간 동의 | 제이지형 1점 |
| 동의 | 제이지형 2점 |
| 매우 동의 | 제이지형 3점 |

3번 질문에서 검사자는 `비동의` 선택지를 선택했으므로 무지형(M) 성격 유형 점수 2점을 얻게 됩니다.

4번 질문의 점수 배치는 아래 표와 같습니다.

| 선택지 | 성격 유형 점수 |
| --- | --- |
| 매우 비동의 | 라이언형 3점 |
| 비동의 | 라이언형 2점 |
| 약간 비동의 | 라이언형 1점 |
| 모르겠음 | 어떤 성격 유형도 점수를 얻지 않습니다 |
| 약간 동의 | 튜브형 1점 |
| 동의 | 튜브형 2점 |
| **매우 동의** | **튜브형 3점** |

4번 질문에서 검사자는 `매우 동의` 선택지를 선택했으므로 튜브형(T) 성격 유형 점수 3점을 얻게 됩니다.

5번 질문의 점수 배치는 아래 표와 같습니다.

| 선택지 | 성격 유형 점수 |
| --- | --- |
| 매우 비동의 | 네오형 3점 |
| 비동의 | 네오형 2점 |
| 약간 비동의 | 네오형 1점 |
| 모르겠음 | 어떤 성격 유형도 점수를 얻지 않습니다 |
| **약간 동의** | **어피치형 1점** |
| 동의 | 어피치형 2점 |
| 매우 동의 | 어피치형 3점 |

5번 질문에서 검사자는 `약간 동의` 선택지를 선택했으므로 어피치형(A) 성격 유형 점수 1점을 얻게 됩니다.

1번부터 5번까지 질문의 성격 유형 점수를 합치면 아래 표와 같습니다.

| 지표 번호 | 성격 유형 | 점수 | 성격 유형 | 점수 |
| --- | --- | --- | --- | --- |
| 1번 지표 | 라이언형(R) | 0 | 튜브형(T) | 3 |
| 2번 지표 | 콘형(C) | 1 | 프로도형(F) | 0 |
| 3번 지표 | 제이지형(J) | 0 | 무지형(M) | 2 |
| 4번 지표 | 어피치형(A) | 1 | 네오형(N) | 1 |

각 지표에서 더 점수가 높은 `T`,`C`,`M`이 성격 유형입니다.
하지만, 4번 지표는 1점으로 동일한 점수입니다. 따라서, 4번 지표의 성격 유형은 사전순으로 빠른 `A`입니다.

따라서 `"TCMA"`를 return 해야 합니다.


**입출력 예 #2**

1번부터 3번까지 질문의 성격 유형 점수를 합치면 아래 표와 같습니다.

| 지표 번호 | 성격 유형 | 점수 | 성격 유형 | 점수 |
| --- | --- | --- | --- | --- |
| 1번 지표 | 라이언형(R) | 6 | 튜브형(T) | 1 |
| 2번 지표 | 콘형(C) | 0 | 프로도형(F) | 0 |
| 3번 지표 | 제이지형(J) | 0 | 무지형(M) | 0 |
| 4번 지표 | 어피치형(A) | 0 | 네오형(N) | 0 |

1번 지표는 튜브형(T)보다 라이언형(R)의 점수가 더 높습니다. 따라서 첫 번째 지표의 성격 유형은 `R`입니다.
하지만, 2, 3, 4번 지표는 모두 0점으로 동일한 점수입니다. 따라서 2, 3, 4번 지표의 성격 유형은 사전순으로 빠른 `C`, `J`, `A`입니다.

따라서 `"RCJA"`를 return 해야 합니다.


## 풀이 
```golang
const (
	// negative
	RYAN   = "R"
	CON    = "C"
	JAYG   = "J"
	APEACH = "A"

	// positive
	TUBE  = "T"
	FRODO = "F"
	MUZI  = "M"
	NEO   = "N"
)

func solution(survey []string, choices []int) string {

	m := make(map[string]int)

	for i, types := range survey {
		if choices[i] == 4 {
			continue
		}

		m[string(types[choices[i]/4])] += int(math.Abs(float64(4 - choices[i])))
	}

	negatives := [4]string{RYAN, CON, JAYG, APEACH}
	positives := [4]string{TUBE, FRODO, MUZI, NEO}

	var sb strings.Builder
	for i := 0; i < 4; i++ {
		if m[negatives[i]] >= m[positives[i]] {
			sb.WriteString(negatives[i])
		} else {
			sb.WriteString(positives[i])
		}
	}

	return sb.String()
}
```

- `m` 초기화 
	- key : 성격 유형 , value : 성격 유형 점수
- `survey`순회
	- 만약 `choices[i]`의 값이 4인 경우 (4	모르겠음) 무시
	- 만약 `choices[i]`의 값이 4가 아닌 경우
		- `choices[i]/4`
			- `0` : 비동의로 평가 (1 ~ 3)
			- `1` : 동의로 평가 (5 ~ 7)
		- `servey`의 요소 `types`
			- `types[choices[i]/4]`
				- `choices[i]/4` 의 결과가 0인 경우
					- `types[0]` : 비동의로 평가한 성격 유형 
				- `choices[i]/4` 의 결과가 1인 경우
					- `types[1]` : 동의로 평가한 성격 유형 
		- 점수 배치
			- | `choices` | 선택지 | 성격 유형 점수 |
			  | --- | --- | --- |
			  | 1 | `매우 비동의` | 동의 성격 유형 3점 |
			  | 2 | `비동의` | 동의 성격 유형 2점 |
			  | 3 | `약간 비동의` | 동의 성격 유형 1점 |
			  | 4 | `모르겠음` | 어떤 성격 유형도 점수를 얻지 않습니다 |
			  | 5 | `약간 동의` | 비동의 성격유형 1점 |
			  | 6 | `동의` | 비동의 성격유형 2점 |
			  | 7 | `매우 동의` | 비동의 성격유형 3점 |
			- 위와 같이, 4를 기준으로 얼마만큼의 값의 차이가 나는지가 점수가 됨
				- `int(math.Abs(float64(4 - choices[i])))` 
- `survey`순회하여 얻은 결과로 각 지표 별 동의와 비동의 크기 비교
	- `m[negatives[i]] >= m[positives[i]]`
		- `하나의 지표에서 각 성격 유형 점수가 같으면, 두 성격 유형 중 사전 순으로 빠른 성격 유형을 검사자의 성격 유형이라고 판단` 와 같은 조건으로 인하여 값이 같은 경우는 `negatives[i]` 성격 유형을 선택하도록 `>=` 연산자 사용
	- 각 유형을 `sb` 버퍼에 저장
- 각 지표 별 비교가 끝나면 `sb.String()` 을 반환
					

## 테스트코드
### 유닛 테스트
```golang
const TESTCOUNT = 2

var (
	survey = [TESTCOUNT][]string{
		{"AN", "CF", "MJ", "RT", "NA"},
		{"TR", "RT", "TR"},
	}
	choices = [TESTCOUNT][]int{
		{5, 3, 2, 7, 5},
		{7, 1, 3},
	}
	result = [TESTCOUNT]string{
		"TCMA",
		"RCJA",
	}
)

func TestSolution(t *testing.T) {
	for i := 0; i < TESTCOUNT; i++ {
		fmt.Printf("survey : %v\n", survey[i])
		fmt.Printf("choices : %v\n", choices[i])
		fmt.Printf("result : %s\n", result[i])
		fmt.Printf("solution result : %s\n", solution(survey[i], choices[i]))
	}
}
```

```bash
$ go test -v
=== RUN   TestSolution
survey : [AN CF MJ RT NA]
choices : [5 3 2 7 5]
result : TCMA
solution result : TCMA
survey : [TR RT TR]
choices : [7 1 3]
result : RCJA
solution result : RCJA
--- PASS: TestSolution (0.01s)
PASS
ok      golang-coding-test/Lv1/personality_test 0.312s
```

## [Github 바로가기](https://github.com/kr-goos/golang-coding-test/tree/master/Lv1/personality_test)